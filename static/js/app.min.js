"use strict";const Module=function(){let e,t;e=e||{},t=t||{};const s=Object.freeze({FADE_IN_INTERVAL:8,INITIAL_FADE_IN_INTERVAL:50,OPACITY_INCREASE_AMOUNT:.035,SWIPE_INTERVAL_TIME:2e3,CHECK_OPACITY_RATE:500,IMAGE_MIN_WIDTH:992}),a=Object.freeze({EMAIL_ADDRESSES:"My Email Addresses",IMAGES_FOLDER:"images",IMAGES_LOADED:"$1 image(s) loaded",ICON_FORMAT:"svg",LINK_TARGET:"_blank",CONTACT_INFO:"Contact Information",EXISTS:'"$1" exists in cache',DOES_NOT_EXIST:'"$1" does not exist in cache',LISTENER_REMOVED:"Event listener removed",ERROR_GET:"Unable to acquire JSON data via GET request",ERROR_HEADER:"Oops!",ERROR_SUBHEADER:"An error was encountered",ERROR_EMAIL:"webmaster@andreweissen.com",ERROR_SUMMARY:"This site is currently experiencing unresolved technical difficulties that may be due to ongoing maintenance. Please reload the page and try again or contact the webmaster for assistance at "}),i=Object.freeze({GENERAL__RESPONSIVE_IMAGE:"responsive-image",GENERAL__HAS_HEIGHT:"has-height",GENERAL__BUTTON_LINK:"button-link",GENERAL__ACTIVE:"active",GENERAL__IS_VISIBLE:"is-visible",GENERAL__PLAINLINK:"plainlink",WRAPPER__CONTAINER:"container",WRAPPER__CONTENT:"content",WRAPPER__CONTENT_SECTION:"content-section",HEADER:"header",HEADER__SECTION:"header-section",LOGO:"logo",LOGO__SECTION:"logo-section",LOGO__IMAGE:"logo-img",LOGO__TEXT:"logo-text",NAV:"nav",NAV__UL:"nav-ul",NAV__HAMBURGER:"nav-hamburger",NAV__UPPER_BAR:"nav-hamburger-upper-bar",NAV__MIDDLE_BAR:"nav-hamburger-middle-bar",NAV__LOWER_BAR:"nav-hamburger-lower-bar",MAIN:"main",ERROR:"error",ERROR__HEADER:"error-header",ERROR__SUBHEADER:"error-subheader",ERROR__CONTENT:"error-content",ERROR__SUMMARY:"error-summary",ERROR__TECH:"error-technical",ERROR__TECH_TITLE:"error-technical-title",ERROR__TECH_TEXT:"error-technical-text",FOOTER:"footer",FOOTER__SECTION:"footer-section",FOOTER__UPPER:"footer-upper",FOOTER__UPPER_SECTION:"footer-upper-section",FOOTER__TITLE:"footer-title",FOOTER__LOWER:"footer-lower",FOOTER__COPYRIGHT:"copyright",HOME__LI:"home-li",HOME__LINK:"home-link",HOME__PICTURE:"home-picture",HOME__COVER:"home-cover",HOME__PHOTOTEXT:"home-phototext",META__LI:"meta-li",META__LI_TITLE:"meta-li-title",META__LI_TEXT:"meta-li-text",CONNECT__LI:"connect-li",CONNECT__LINK:"connect-link",CONNECT__SVG:"connect-svg",CONNECT__DESC:"connect-description",CONNECT__DESC_TITLE:"connect-description-title",CONNECT__DESC_TEXT:"connect-description-text",DIPTYPCH:"diptych",DIPTYCH__PANEL:"diptych-panel",DIPTYCH__HEADER:"diptych-header",DIPTYCH__SUBHEADER:"diptych-subheader",LEFT__PANEL:"left",LEFT__AVATAR:"left-avatar",LEFT__HEADER:"left-header",LEFT__SUBHEADER:"left-subheader",LEFT__SUMMARY:"left-summary",LEFT__DETAILS:"left-details",LEFT__DETAILS_HEADER:"left-details-header",LEFT__DETAILS_TABLE:"left-details-table",LEFT__DETAILS_ROW:"left-details-row",LEFT__DETAILS_CELL:"left-details-cell",RIGHT__PANEL:"right",RIGHT__HEADER:"right-header",RIGHT__CONTENT:"right-content",RIGHT__DETAILS:"right-details",RIGHT__DETAILS_HEADER:"right-details-header",RIGHT__DETAILS_UL:"right-details-ul",RIGHT__DETAILS_LI:"right-details-li",RIGHT__DETAILS_LI_TITLE:"right-details-li-title",RIGHT__DETAILS_LI_TEXT:"right-details-li-text",ESSAY__SECTION:"essay-section",ESSAY__TITLE:"essay-title",ESSAY__PARAGRAPHS:"essay-paragraphs",ESSAY__PARAGRAPH:"essay-paragraph",ENTRY__SECTION:"entry-section",ENTRY__UPPER:"entry-upper",ENTRY__HEADER:"entry-header",ENTRY__SUBHEADER:"entry-subheader",ENTRY__DATE:"entry-date",ENTRY__LOWER:"entry-lower",ENTRY__PARAGRAPH:"entry-paragraph",ENTRY__LISTING:"entry-listing",ENTRY__LISTING_TITLE:"entry-listing-title",ENTRY__LISTING_TEXT:"entry-listing-text"}),E=Object.freeze({ADDITION:function(e,t){return e+t},SUBTRACTION:function(e,t){return e-t},GREATER_THAN:function(e,t){return e>t},LESS_THAN:function(e,t){return e<t}});return t.sendRequest=function(e,t,s=null){return new Promise((i,E)=>{let n,l;(n=new XMLHttpRequest).open(e,t),"POST"===e&&null!=s&&(!0===s.encode?(n.setRequestHeader("Content-Type","application/json"),l=JSON.stringify(s.params)):(n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l=this.serialize(s.params))),n.onload=function(){200==n.status?i(n.response):E(Error(n.statusText))},n.onerror=function(){E(Error(a.ERROR_NETWORK))},n.send(l)})},t.loadImages=function(e=null){return new Promise(t=>{let s,a,i,E;s=null!=e?e.getElementsByTagName("img"):document.images,a=s.length,i=0,[].forEach.call(s,e=>{e.complete?a-=1:e.addEventListener("load",E=(()=>{++i===a&&(t(),e.removeEventListener("load",E))}),!1)}),0===a&&t()})},t.serialize=function(e){return Object.entries(e).map(e=>e.join("=")).join("&")},t.performCommonOperation=function(e,t){return e.reduce(E[t])},t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.isElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},t.emptyElementOfContent=function(e){let t;for(t=document.querySelector(e);t.firstChild;)t.removeChild(t.firstChild)},t.isVisible=function(e){let t;return(t=document.querySelector(e)).currentStyle?t.currentStyle.display:"none"!==getComputedStyle(t,null).display},t.fade=function(e,t){let a,i,n,l,_;a=document.querySelector(t),n=e.toUpperCase(),a.style.opacity="OUT"===n?1:0,_=Object.freeze({IN:{comparison:"LESS_THAN",operator:"ADDITION",comparisonValue:1},OUT:{comparison:"GREATER_THAN",operator:"SUBTRACTION",comparisonValue:0}}),l=_[n],i=setInterval(()=>{E[l.comparison](a.style.opacity,l.comparisonValue)?a.style.opacity=this.performCommonOperation([Number.parseFloat(a.style.opacity),s.OPACITY_INCREASE_AMOUNT],l.operator):clearInterval(i)},s.FADE_IN_INTERVAL)},t.swipeRight=function(e){let t,a,i,E;i=Date.now(),(t=document.querySelector(e)).style.position="relative",a=setInterval(()=>{if((E=Date.now()-i)>=s.SWIPE_INTERVAL_TIME||t.style.opacity<=0)return clearInterval(a),void(t.style.left=0);t.style.left=`${E/5}px`},s.FADE_IN_INTERVAL)},t.tinderize=function(e,t,a){let i,E,n,l;l=`.${t}`,E=document.querySelector(l),e&&this.swipeRight(l),this.fade("OUT",l),i=setInterval(()=>{E.style.opacity<=0&&(clearInterval(i),E.style.opacity=0,this.cache.pages.hasOwnProperty(a.name.toLowerCase())?n=this.cache.pages[a.name]:(n=this[a.handler](a.name),this.cache.pages[a.name]=n),this.loadImages(n).then(()=>{this.emptyElementOfContent(l),E.appendChild(n),this.fade("IN",l)}))},s.CHECK_OPACITY_RATE)},t.assembleElement=function(e){let t,s,a,i,E;if(!this.isArray(e))return this.assembleElement.call(this,Array.prototype.slice.call(arguments));if(s=e[0],a=e[1],t=document.createElement(s),i=1,"object"==typeof a&&null!=a&&!this.isArray(a)){for(let e in a)t.setAttribute(e,a[e]);i=2}for(let s=i;s<e.length;s++)E=this.isArray(e[s])?this.assembleElement(e[s]):this.isElement(e[s])?e[s]:document.createTextNode(e[s]),t.appendChild(E);return t},t.assembleListElement=function(e,t){let s,a,E,n;return E={class:`${t}-li`},n={class:`${t}-link ${i.GENERAL__BUTTON_LINK}`},s=this.assembleElement(["li",E]),(a=this.assembleElement(["button",n,e.text])).addEventListener("click",()=>{this.handleButtonClicks(e,!1)},!1),s.appendChild(a),s},t.assembleHomeListElement=function(e){let t,E,n,l,_,r,c,o,T;return n={class:`home-${e.name} ${i.HOME__LI}`},l={class:i.HOME__LINK,role:"button"},_={class:i.HOME__PICTURE},r={media:`(min-width: ${s.IMAGE_MIN_WIDTH}px)`,srcset:`${a.IMAGES_FOLDER}/${e.picture.normal}`},c={class:i.GENERAL__RESPONSIVE_IMAGE,alt:e.text,src:`${a.IMAGES_FOLDER}/${e.picture.mobile}`},o={class:i.HOME__COVER},T={class:i.HOME__PHOTOTEXT},t=this.assembleElement(["li",n]),(E=this.assembleElement(["a",l,["picture",_,["source",r],["img",c]],["div",o,["p",T,e.text]]])).addEventListener("click",()=>{this.handleButtonClicks(e,!0)},!1),t.appendChild(E),t},t.assembleMetaListElement=function(e){let t,s,a;return t={class:i.META__LI},s={class:i.META__LI_TITLE},a={class:i.META__LI_TEXT+" "+i.GENERAL__BUTTON_LINK+" "+i.GENERAL__PLAINLINK,href:`mailto:${e.text}`},this.assembleElement(["li",t,["span",s,e.title],["a",a,e.text]])},t.assembleConnectListElement=function(e){let t,s,E,n,l,_,r;return t=e.text.toLowerCase(),s={class:"connect-"+e.text.toLowerCase()+" "+i.GENERAL__HAS_HEIGHT+" "+i.CONNECT__LI},E={href:e.link,title:e.text,class:i.CONNECT__LINK,target:a.LINK_TARGET},n={class:`${i.GENERAL__RESPONSIVE_IMAGE} ${i.CONNECT__SVG}`,alt:`${e.text} icon`,src:`${a.IMAGES_FOLDER}/${t}.${a.ICON_FORMAT}`},l={class:i.CONNECT__DESC},_={class:i.CONNECT__DESC_TITLE},r={class:i.CONNECT__DESC_TEXT},this.assembleElement(["li",s,["a",E,["img",n]],["div",l,["h5",_,e.description.title],["div",r,e.description.text]]])},t.assembleEssaySection=function(e){let t,s,a,E,n,l,_;return E={class:i.ESSAY__SECTION},n={class:`${i.ESSAY__TITLE} ${i.DIPTYCH__SUBHEADER}`},l={class:i.ESSAY__PARAGRAPHS},_={class:i.ESSAY__PARAGRAPH},t=this.assembleElement(["div",E]),e.title&&(s=this.assembleElement(["h3",n,e.title]),t.appendChild(s)),a=this.assembleElement(["div",l]),e.paragraphs.forEach(e=>{a.appendChild(this.assembleElement("p",_,e))}),t.appendChild(a),t},t.assembleEntry=function(e,t){let s,a,E,n,l,_,r,c,o,T,R,h,d,A,I;return _={class:i.ENTRY__SECTION},r={class:i.ENTRY__UPPER},c={class:i.ENTRY__HEADER},o={class:i.ENTRY__SUBHEADER},T={class:i.ENTRY__DATE},R={class:i.ENTRY__LOWER},h={class:i.ENTRY__PARAGRAPH},d={class:i.ENTRY__LISTING},A={class:i.ENTRY__LISTING_TITLE},I={class:i.ENTRY__LISTING_TEXT},s=this.assembleElement(["div",_]),n=this.assembleElement(["div",r,["div",c,e.header],["div",o,e.subheader]]),e.date&&n.appendChild(this.assembleElement(["div",T,e.date])),l=this.assembleElement(["div",R]),e.summary?(a=this.assembleElement(["p",h,e.summary]),l.appendChild(a)):e.listing&&e.listing.forEach(e=>{E=this.assembleElement(["div",d,["div",A,e.title],["div",I,e.array.join(", ")]]),l.appendChild(E)}),s.appendChild(n),s.appendChild(l),t&&s.appendChild(document.createElement("hr")),s},t.buildList=function(e,t,s=!1){let a,i,E,n;return i={class:`${n=t.toLowerCase()}-ul`},a=this.assembleElement(["ul",i]),E=`assemble${s?this.capitalize(t):""}ListElement`,e.forEach(e=>{a.appendChild(this[E](e,t))}),a},t.buildContainer=function(){let e,t,s;return e={class:i.WRAPPER__CONTAINER},t={class:i.WRAPPER__CONTENT},s={class:i.MAIN+" "+i.GENERAL__HAS_HEIGHT+" "+i.WRAPPER__CONTENT_SECTION},this.cache.pages.home=this.buildHome(),this.assembleElement(["div",e,["div",t,this.buildHeader(),["main",s,this.cache.pages.home],this.buildFooter()]])},t.buildHeader=function(){let e,t,s,E;return e={class:i.HEADER+" "+i.GENERAL__HAS_HEIGHT+" "+i.WRAPPER__CONTENT_SECTION},t={class:`${i.LOGO} ${i.HEADER__SECTION}`},s={class:i.LOGO__IMAGE+" "+i.GENERAL__RESPONSIVE_IMAGE+" "+i.LOGO__SECTION,alt:this.cache.data.header.image.alt,src:`${a.IMAGES_FOLDER}/${this.cache.data.header.image.src}`},E={class:`${i.LOGO__TEXT} ${i.LOGO__SECTION}`},this.assembleElement(["header",e,["section",t,["img",s],["h4",E,this.cache.data.header.name]],this.buildNav()])},t.buildNav=function(){let e,t,s,a,E,n,l;return e={class:`${i.NAV} ${i.HEADER__SECTION}`},t={class:i.NAV__HAMBURGER},s={class:i.NAV__UPPER_BAR},a={class:i.NAV__MIDDLE_BAR},E={class:i.NAV__LOWER_BAR},l=this.buildList(this.cache.data.home.array,"nav",!1),(n=this.assembleElement(["div",t,["div",s],["div",a],["div",E]])).addEventListener("click",()=>{this.handleMenuToggle(n,l),this.isMenuOpen&&document.addEventListener("click",this.handleOutsideClicks=(e=>{n.contains(e.target)||l.contains(e.target)||this.handleMenuToggle(n,l)}))}),this.assembleElement(["nav",e,n,l])},t.buildFooter=function(){let e,t,s,a,E,n,l;return e={class:i.FOOTER},t={class:i.FOOTER__UPPER+" "+i.FOOTER__SECTION+" "+i.GENERAL__HAS_HEIGHT+" "+i.WRAPPER__CONTENT_SECTION},s={class:i.FOOTER__LOWER+" "+i.FOOTER__SECTION+" "+i.GENERAL__HAS_HEIGHT+" "+i.WRAPPER__CONTENT_SECTION},a={class:i.FOOTER__COPYRIGHT},E=["section","meta",this.cache.data.details.email.slice(0,2),this.cache.data.footer.meta.summary],n=["nav","sitemap",this.cache.data.home.array],l=["section","connect",this.cache.data.footer.connect.array],this.assembleElement(["footer",e,["section",t,this.buildFooterUpperSection(...E),this.buildFooterUpperSection(...n),this.buildFooterUpperSection(...l)],["section",s,["span",a,this.cache.data.footer.copyright]]])},t.buildFooterUpperSection=function(e,t,s,a=null){let E,n,l,_;return n={class:`${E=t.toLowerCase()} ${i.FOOTER__UPPER_SECTION}`},l={class:`${E}-title ${i.FOOTER__TITLE}`},null!=a&&(_={class:`${E}-text`}),this.assembleElement([e,n,["h4",l,null!=a?a.title:this.capitalize(E)],null!=a?["div",_,a.text]:"",this.buildList(s,E,"nav"!==e)])},t.buildHome=function(){return this.buildList(this.cache.data.home.array.slice(1),"home",!0)},t.buildDiptych=function(e){let t,s,E,n,l,_,r,c;return c=this.cache.data[e].aside,t={class:`${i.DIPTYPCH} ${i.GENERAL__HAS_HEIGHT}`},s={class:`${i.LEFT__PANEL} ${i.DIPTYCH__PANEL}`},E={class:i.LEFT__AVATAR,src:`${a.IMAGES_FOLDER}/${e}.webp`,alt:`${this.capitalize(e)} avatar`},l={class:`${i.LEFT__HEADER} ${i.DIPTYCH__HEADER}`},_={class:`${i.LEFT__SUBHEADER} ${i.DIPTYCH__SUBHEADER}`},r={class:i.LEFT__SUMMARY},n=this.assembleElement(["aside",s,["img",E],["h1",l,c.header]]),c.subheader&&n.appendChild(this.assembleElement(["h5",_,c.subheader])),n.appendChild(this.assembleEssaySection(this.cache.data[e].aside.summary)),c.canShowTable&&n.appendChild(this.buildLeftDetailsTable()),this.assembleElement(["section",t,n,this.buildRightPanel(e)])},t.buildRightPanel=function(e){let t,s,a,E,n,l,_;return n={class:`${i.RIGHT__PANEL} ${i.DIPTYCH__PANEL}`},l={class:`${i.RIGHT__HEADER} ${i.DIPTYCH__HEADER}`},_={class:i.RIGHT__CONTENT},s=this.cache.data[e].article,t=this.assembleElement(["article",n]),a=this.assembleElement(["h2",l,s.header]),E=this.assembleElement(["section",_]),s.essaySections?s.essaySections.forEach(e=>{E.appendChild(this.assembleEssaySection(e))}):s.entries&&s.entries.forEach((e,t)=>{E.appendChild(this.assembleEntry(e,t<s.entries.length-1))}),t.appendChild(a),t.appendChild(E),s.canShowTable&&E.appendChild(this.buildRightDetailsTable()),t},t.buildLeftDetailsTable=function(){let e,t,s,E,n,l,_,r,c,o,T,R;e=this.cache.data.details.email,c={class:i.LEFT__DETAILS},o={class:i.LEFT__DETAILS_HEADER+" "+i.LEFT__SUBHEADER+" "+i.DIPTYCH__SUBHEADER},s={class:i.LEFT__DETAILS_TABLE},t=this.assembleElement(["table",s]),E=document.createElement("tbody"),r=this.assembleElement(["section",c,["h3",o,a.EMAIL_ADDRESSES]]),t.appendChild(E);for(let t=0;t<e.length;t++){(l=E.insertRow(t)).setAttribute("class",i.LEFT__DETAILS_ROW),n=Object.keys(e[t]);for(let s=0;s<n.length;s++)(_=l.insertCell(s)).setAttribute("class",i.LEFT__DETAILS_CELL),T=s%2==0?"span":"a",R=s%2==0?{class:`${i.LEFT__DETAILS_CELL}-title`}:{class:i.LEFT__DETAILS_CELL+"-text "+i.GENERAL__BUTTON_LINK+" "+i.GENERAL__PLAINLINK,href:`mailto:${e[t][n[s]]}`},_.appendChild(this.assembleElement([T,R,e[t][n[s]]]))}return r.appendChild(t),r},t.buildRightDetailsTable=function(){let e,t,s,E,n,l,_,r,c,o;_=this.cache.data.details,E={class:i.RIGHT__DETAILS_UL},n={class:i.RIGHT__DETAILS},l={class:`${i.RIGHT__DETAILS_HEADER} ${i.DIPTYCH__SUBHEADER}`},r={class:i.RIGHT__DETAILS_LI},c={class:i.RIGHT__DETAILS_LI_TITLE},o={class:i.RIGHT__DETAILS_LI_TEXT+" "+i.GENERAL__BUTTON_LINK+" "+i.GENERAL__PLAINLINK},t=this.assembleElement(["ul",E]),e=this.assembleElement(["div",n,["h3",l,a.CONTACT_INFO],t]);for(let e in _)_[e].forEach(i=>{s=Object.keys(i),o.href=("email"===e?"mailto:":"")+i[s[1]],"sites"===e&&(o.target=a.LINK_TARGET),t.appendChild(this.assembleElement(["li",r,["span",c,i[s[0]]],["a",o,i[s[1]]]]))});return e.appendChild(t),e},t.buildErrorPage=function(e){let t,s,E,n,l,_,r,c,o;return t={class:i.ERROR},s={class:i.ERROR__HEADER},E={class:i.ERROR__SUBHEADER},n={class:i.ERROR__CONTENT},l={class:i.ERROR__SUMMARY},_={class:`${i.GENERAL__BUTTON_LINK} ${i.GENERAL__PLAINLINK}`,href:`mailto:${a.ERROR_EMAIL}`},r={class:i.ERROR__TECH},c={class:i.ERROR__TECH_TITLE},o={class:i.ERROR__TECH_TEXT},this.assembleElement(["section",t,["h1",s,a.ERROR_HEADER],["h2",E,a.ERROR_SUBHEADER],["div",n,["div",l,a.ERROR_SUMMARY],["a",_,a.ERROR_EMAIL]],["div",r,["span",c,`${this.capitalize(e)}: `],["span",o,this.cache.data.error]]])},t.handleButtonClicks=function(e,t=!1){this.isVisible(`.${i.NAV__HAMBURGER}`)&&this.isVisible(`.${i.NAV__UL}`)&&this.handleMenuToggle(),this.cache.data.hasOwnProperty(e.name.toLowerCase())?this.tinderize(t,i.MAIN,e):this.sendRequest("GET",`json/${e.name}.json`).then(s=>{let a;(a=JSON.parse(s)).success&&(this.cache.data=Object.assign(this.cache.data,a.data),this.tinderize(t,i.MAIN,e))},e=>{this.handleErrors(""!==e.message?e.message:a.ERROR_GET)})},t.handleMenuToggle=function(){let e,t;e=document.querySelector(`.${i.NAV__HAMBURGER}`),t=document.querySelector(`.${i.NAV__UL}`),e.classList.toggle(i.GENERAL__ACTIVE),t.classList.toggle(i.GENERAL__IS_VISIBLE),this.isMenuOpen=!this.isMenuOpen,null!=this.handleOutsideClicks&&document.removeEventListener("click",this.handleOutsideClicks)},t.handleErrors=function(e){this.cache.data.error=e,this.tinderize(!1,i.WRAPPER__CONTENT,{name:"error",handler:"buildErrorPage"})},t.main=function(){let e,t;this.isMenuOpen=!1,this.cache={data:{},pages:{}},this.sendRequest("GET","json/data.json").then(s=>{(e=JSON.parse(s)).success&&(this.cache.data=Object.assign(this.cache.data,e.data),t=this.buildContainer(),this.loadImages(t).then(()=>{document.body.appendChild(t),this.fade("IN",`.${i.WRAPPER__CONTAINER}`)}))},e=>{this.handleErrors(""!==e.message?e.message:a.ERROR_GET)})},e.getUtility=function(){return Object.assign({},s)},e.getText=function(){return Object.assign({},a)},e.getClasses=function(){return Object.assign({},i)},e.getOperations=function(){return Object.assign({},E)},e.init=function(){t.main()},e}();